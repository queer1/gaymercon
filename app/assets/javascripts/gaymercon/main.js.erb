$(document).ready(function(){
  
  require(["<%= asset_path "libs/twitter.js" %>", 
           "<%= asset_path "libs/gplus.js" %>",
           "<%= asset_path "libs/fb.js" %>", 
           "<%= asset_path "libs/uservoice.js" %>",
           "<%= asset_path "libs/ganalytics.js" %>",
           "<%= asset_path "jquery.tweet.js" %>"], function(util){
             $('.tweet').tweet({
               avatar_size: 32,
               count: 3,
               fetch: 20,
               filter: function(t){ return ! /^@\w+/.test(t.tweet_raw_text); },
               username: "gaymercon"
             });
             $(".tweet ul:first").addClass("unstyled");
           });
  
  elem = $('<input type="hidden" name="antispam" value="gaymercon" />')
  $('#email').after(elem)
  
  $("head").append("<link href='http://fonts.googleapis.com/css?family=VT323|Press+Start+2P' rel='stylesheet' type='text/css'>");
  
  $.each($(".level-bar"), function(){
    $(this).progressbar({ value: $(this).data('progress') });
  });
  
  $("textarea.bbcode").bbcode();
  
  $("a.toggle").on("click", function(e){
    e.preventDefault();
    var target = $(this).attr('href')
    $(target).slideToggle('fast');
    return false;
  });
  
  $('.get-location').on("click", function(e){
    e.preventDefault();
    var link = $(this);
    $.get("/info/get_location", {}, function(data, status, xhr){
      if(data["location"])
        link.siblings('.place:first').val(data["location"]);
    });
    return false;
  });
  
  $(".date").datepicker();
})